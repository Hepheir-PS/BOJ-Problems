# 문제

-   **제목**: 바이러스 밀폐
-   **배점**: 20점

## 문제 보기

<details>
    <summary>문제 보기</summary>
    <br>
    <blockquote>
        <h1>4. 바이러스 밀폐(20점)</h1>
        <br>
        <span style="font-size:13.0pt"><span style="text-autospace:none"><img alt="그림입니다.
                원본 그림의 이름: CLP00000174000d.bmp
                원본 그림의 크기: 가로 259pixel, 세로 194pixel" src="./제10회 cpsFestival 예선 문제(안)_files/1.png"
                    style="width:78ptpx; height:58ptpx"></span></span><br>
        <span style="text-autospace:none"><span style="font-size:13.0pt"><span style="font-family:한컴돋움">바이러스</span></span><span
                lang="EN-US" style="font-size:13.0pt"><span style="font-family:한컴돋움"><span
                        style="letter-spacing:0pt">(virus)</span></span></span><span style="font-size:13.0pt"><span
                    style="font-family:한컴돋움">는 다른 유기체의 살아 있는 세포 안에서만 기생</span></span><span lang="EN-US"
                style="font-size:13.0pt"><span style="font-family:한컴돋움"><span style="letter-spacing:0pt">,
                    </span></span></span><span style="font-size:13.0pt"><span style="font-family:한컴돋움">증식하는 전염성 감염원이자 생물과 무생물의
                    중간적 존재</span></span><span lang="EN-US" style="font-size:13.0pt"><span style="font-family:한컴돋움"><span
                        style="letter-spacing:0pt">(</span></span></span><span style="font-size:13.0pt"><span
                    style="font-family:한컴돋움">비세포성 반생물</span></span><span lang="EN-US" style="font-size:13.0pt"><span
                    style="font-family:한컴돋움"><span style="letter-spacing:0pt">)</span></span></span><span
                style="font-size:13.0pt"><span style="font-family:한컴돋움">로서 박테리아와 동물은 물론 식물에서 미생물에 이르기까지 모든 종류의 생물체를 감염시킬 수
                </span></span><span style="font-size:13.0pt"><span style="font-family:한컴돋움"><span
                        style="letter-spacing:0.1pt">있습니다</span></span></span><span lang="EN-US" style="font-size:13.0pt"><span
                    style="font-family:한컴돋움"><span style="letter-spacing:0.1pt">. </span></span></span><span
                style="font-size:13.0pt"><span style="font-family:한컴돋움"><span style="letter-spacing:0.1pt">바이러스는 지구 생명체의 잠재적 위험이
                        될 수도 있습니다</span></span></span><span lang="EN-US" style="font-size:13.0pt"><span
                    style="font-family:한컴돋움"><span style="letter-spacing:0.1pt">. </span></span></span><span
                style="font-size:13.0pt"><span style="font-family:한컴돋움"><span style="letter-spacing:0.1pt">당신은
                    </span></span></span><span style="font-size:13.0pt"><span style="font-family:한컴돋움"><span
                        style="letter-spacing:-0.2pt">바이러스를 </span></span></span><span style="font-size:13.0pt"><span
                    style="font-family:한컴돋움"><span style="letter-spacing:-0.3pt">연구하고 관리하여 지구를 지키려는 바이러스 연구소의
                        연구원입니다</span></span></span><span lang="EN-US" style="font-size:13.0pt"><span
                    style="font-family:한컴돋움"><span style="letter-spacing:-0.3pt">.</span></span></span> <span
                style="font-size:13.0pt"><span style="font-family:한컴돋움">연구실 구조는 다음 그림과 같습니다</span></span><span lang="EN-US"
                style="font-size:13.0pt"><span style="font-family:한컴돋움"><span style="letter-spacing:0pt">.
                    </span></span></span></span><br>
        <span style="font-size:13.0pt"><span style="text-autospace:none"><img alt="그림입니다.
                원본 그림의 이름: 그림6.png
                원본 그림의 크기: 가로 662pixel, 세로 577pixel" src="./제10회 cpsFestival 예선 문제(안)_files/2.png"
                    style="width:318ptpx; height:277ptpx"></span></span><br>
        <span style="font-size:13.0pt"><span style="text-autospace:none">&nbsp;</span></span><br>
        <span style="text-autospace:none"><span lang="EN-US" style="font-size:13.0pt"><span style="font-family:한컴돋움"><span
                        style="letter-spacing:-0.3pt">16</span></span></span><span style="font-size:13.0pt"><span
                    style="font-family:한컴돋움"><span style="letter-spacing:-0.3pt">개의 연구실이 있으며</span></span></span><span
                lang="EN-US" style="font-size:13.0pt"><span style="font-family:한컴돋움"><span style="letter-spacing:-0.3pt">,
                    </span></span></span><span style="font-size:13.0pt"><span style="font-family:한컴돋움"><span
                        style="letter-spacing:-0.3pt">연구실 사이에는 이웃한 연구실로 바로 갈 수 있는 문이 </span></span></span><span
                style="font-size:13.0pt"><span style="font-family:한컴돋움"><span
                        style="letter-spacing:-0.6pt">있고</span></span></span><span lang="EN-US" style="font-size:13.0pt"><span
                    style="font-family:한컴돋움"><span style="letter-spacing:-0.6pt">, </span></span></span><span
                style="font-size:13.0pt"><span style="font-family:한컴돋움"><span style="letter-spacing:-0.6pt">모든 연구실에는 각종 바이러스의
                        표본들이 유리병에 담겨 진열되어 있습니다</span></span></span><span lang="EN-US" style="font-size:13.0pt"><span
                    style="font-family:한컴돋움"><span style="letter-spacing:-0.6pt">. </span></span></span><span
                style="font-size:13.0pt"><span style="font-family:한컴돋움"><span style="letter-spacing:-0.6pt">입구가 있는 중앙 연구실에는 표본뿐만
                        아니라 감시 시스템과 방호복이 있습니다</span></span></span><span lang="EN-US" style="font-size:13.0pt"><span
                    style="font-family:한컴돋움"><span style="letter-spacing:-0.6pt">.</span></span></span></span><br>
        <span style="font-size:13.0pt"><span style="text-autospace:none">&nbsp;</span></span><br>
        <span style="text-autospace:none"><span style="font-size:13.0pt"><span style="font-family:한컴돋움"><span
                        style="letter-spacing:-0.2pt">당신 혼자 중앙 연구실에서 연구하고 있던 어느 날</span></span></span><span lang="EN-US"
                style="font-size:13.0pt"><span style="font-family:한컴돋움"><span style="letter-spacing:-0.2pt">,
                    </span></span></span><span style="font-size:13.0pt"><span style="font-family:한컴돋움"><span
                        style="letter-spacing:-0.2pt">강력한 지진이 일어났습니다</span></span></span><span lang="EN-US"
                style="font-size:13.0pt"><span style="font-family:한컴돋움"><span style="letter-spacing:-0.2pt">.
                    </span></span></span></span><br>
        <span style="text-autospace:none"><span style="font-size:13.0pt"><span style="font-family:한컴돋움"><span
                        style="letter-spacing:-0.2pt">건물이 흔들려서 연구실의 표본이 담긴 유리병들이 모두 깨진 다음에야 지진이 멈추었습니다</span></span></span><span
                lang="EN-US" style="font-size:13.0pt"><span style="font-family:한컴돋움"><span style="letter-spacing:-0.2pt">.
                    </span></span></span><span style="font-size:13.0pt"><span style="font-family:한컴돋움"><span
                        style="letter-spacing:-0.2pt">감시 시스템에는 중앙 연구실을 제외한 모든 연구실이 바이러스에 오염된 것을 알리는 경보음이 울리고
                        있습니다</span></span></span><span lang="EN-US" style="font-size:13.0pt"><span
                    style="font-family:한컴돋움"><span style="letter-spacing:-0.2pt">. </span></span></span><span
                style="font-size:13.0pt"><span style="font-family:한컴돋움"><span style="letter-spacing:-0.2pt">당신은 즉시 방호복을 입고 모든
                        연구실을 밀폐시키는 긴급조치를 하려고 합니다</span></span></span><span lang="EN-US" style="font-size:13.0pt"><span
                    style="font-family:한컴돋움"><span style="letter-spacing:-0.2pt">. </span></span></span><span
                style="font-size:13.0pt"><span style="font-family:한컴돋움"><span style="letter-spacing:-0.9pt">긴급조치를 해야 할 상황은 다음과
                        같습니다</span></span></span><span lang="EN-US" style="font-size:13.0pt"><span
                    style="font-family:한컴돋움"><span style="letter-spacing:-0.9pt">.</span></span></span></span><br>
        <span style="text-autospace:none"><span style="font-size:13.0pt"><span style="font-family:한컴돋움"><span
                        style="letter-spacing:-0.2pt">① </span></span></span><span style="font-size:13.0pt"><span
                    style="font-family:한컴돋움"><span style="letter-spacing:-1.4pt">각 연구실에는 바이러스가 그 연구실 밖으로 퍼지는 것을 방지하는 밀폐 스위치가
                        있다</span></span></span><span lang="EN-US" style="font-size:13.0pt"><span style="font-family:한컴돋움"><span
                        style="letter-spacing:-1.4pt">.</span></span></span></span><br>
        <span style="text-autospace:none"><span style="font-size:13.0pt"><span style="font-family:한컴돋움"><span
                        style="letter-spacing:-0.2pt">② </span></span></span><span style="font-size:13.0pt"><span
                    style="font-family:한컴돋움"><span style="letter-spacing:-0.2pt">중앙 연구실에서 출발하여 출구가 있는 연구실을 통해 밖으로 나와야
                        된다</span></span></span><span lang="EN-US" style="font-size:13.0pt"><span style="font-family:한컴돋움"><span
                        style="letter-spacing:-0.2pt">.</span></span></span></span><br>
        <span style="text-autospace:none"><span style="font-size:13.0pt"><span style="font-family:한컴돋움"><span
                        style="letter-spacing:-1.4pt">③ </span></span></span><span style="font-size:13.0pt"><span
                    style="font-family:한컴돋움"><span style="letter-spacing:-1.4pt">오염된 연구실에 들어가면 반드시 밀폐 스위치를
                        누르고</span></span></span><span lang="EN-US" style="font-size:13.0pt"><span style="font-family:한컴돋움"><span
                        style="letter-spacing:-1.4pt">, </span></span></span><span style="font-size:13.0pt"><span
                    style="font-family:한컴돋움"><span style="letter-spacing:-1.4pt">즉시 그 연구실을 나와야 된다</span></span></span><span
                lang="EN-US" style="font-size:13.0pt"><span style="font-family:한컴돋움"><span
                        style="letter-spacing:-1.4pt">.</span></span></span></span><br>
        <span style="text-autospace:none"><span style="font-size:13.0pt"><span style="font-family:한컴돋움"><span
                        style="letter-spacing:0pt">④ </span></span></span><span style="font-size:13.0pt"><span
                    style="font-family:한컴돋움">밀폐 스위치를 누르고 나온 연구실은 다시 들어갈 수 없다</span></span><span lang="EN-US"
                style="font-size:13.0pt"><span style="font-family:한컴돋움"><span
                        style="letter-spacing:0pt">.</span></span></span></span><br>
        <span style="text-autospace:none"><span style="font-size:13.0pt"><span style="font-family:한컴돋움"><span
                        style="letter-spacing:0pt">⑤ </span></span></span><span style="font-size:13.0pt"><span
                    style="font-family:한컴돋움">출구로 나올 때는 </span></span><span lang="EN-US" style="font-size:13.0pt"><span
                    style="font-family:한컴돋움"><span style="letter-spacing:0pt">16</span></span></span><span
                style="font-size:13.0pt"><span style="font-family:한컴돋움">개의 모든 연구실이 밀폐되어 있어야 한다</span></span><span lang="EN-US"
                style="font-size:13.0pt"><span style="font-family:한컴돋움"><span
                        style="letter-spacing:0pt">.</span></span></span></span><br>
        <span style="font-size:13.0pt"><span style="text-autospace:none">&nbsp;</span></span><br>
        <span style="text-autospace:none"><span style="font-size:13.0pt"><span style="font-family:한컴돋움"><span
                        style="letter-spacing:0.2pt">당신의 긴급조치가 완벽하지 못하여 바이러스가 연구실 밖으로 퍼지게 되면 우리 인류는 심각한 위험에 빠지게
                        됩니다</span></span></span><span lang="EN-US" style="font-size:13.0pt"><span style="font-family:한컴돋움"><span
                        style="letter-spacing:0.2pt">. </span></span></span><span style="font-size:13.0pt"><span
                    style="font-family:한컴돋움"><span style="letter-spacing:0.2pt">항상 마스크를 착용하고</span></span></span><span
                lang="EN-US" style="font-size:13.0pt"><span style="font-family:한컴돋움"><span style="letter-spacing:0.2pt">,
                        5</span></span></span><span style="font-size:13.0pt"><span style="font-family:한컴돋움"><span
                        style="letter-spacing:0.2pt">명 이상 </span></span></span><span style="font-size:13.0pt"><span
                    style="font-family:한컴돋움"><span style="letter-spacing:-0.8pt">모이지 않고</span></span></span><span lang="EN-US"
                style="font-size:13.0pt"><span style="font-family:한컴돋움"><span style="letter-spacing:-0.8pt">,
                    </span></span></span><span style="font-size:13.0pt"><span style="font-family:한컴돋움"><span
                        style="letter-spacing:-0.8pt">백신을 맞는 등 아무리 노력하여도 위험에서 완전히 벗어날 수 없습니다</span></span></span><span
                lang="EN-US" style="font-size:13.0pt"><span style="font-family:한컴돋움"><span
                        style="letter-spacing:-0.8pt">.</span></span></span></span><br>
        <span style="text-autospace:none"><span style="font-size:13.0pt"><span style="font-family:한컴돋움"><span
                        style="letter-spacing:-0.7pt">당신은 중앙 연구실에서 출발하여 모든 연구실을 밀폐하고 출구로 나올 수 있습니까</span></span></span><span
                lang="EN-US" style="font-size:13.0pt"><span style="font-family:한컴돋움"><span
                        style="letter-spacing:-0.7pt">?</span></span></span></span><br>
        <span style="text-autospace:none"><span style="font-size:13.0pt"><span style="font-family:한컴돋움"><span
                        style="letter-spacing:0.2pt">당신의 능력에 따라 인류의 운명이 결정됩니다</span></span></span><span lang="EN-US"
                style="font-size:13.0pt"><span style="font-family:한컴돋움"><span
                        style="letter-spacing:0.2pt">.</span></span></span></span><br>
        <span style="font-size:13.0pt"><span style="text-autospace:none">&nbsp;</span></span><br>
        <span style="text-autospace:none"><span lang="EN-US" style="font-size:13.0pt"><span style="font-family:한컴돋움"><span
                        style="letter-spacing:0pt">[</span></span></span><span style="font-size:13.0pt"><span
                    style="font-family:한컴돋움">참고</span></span><span lang="EN-US" style="font-size:13.0pt"><span
                    style="font-family:한컴돋움"><span style="letter-spacing:0pt">]</span></span></span></span><br>
        <span style="text-autospace:none"><span style="font-size:13.0pt"><span style="font-family:한컴돋움">이 문제는 모든 꼭지점을 한 번씩 지나는
                    해밀턴 경로</span></span><span lang="EN-US" style="font-size:13.0pt"><span style="font-family:한컴돋움"><span
                        style="letter-spacing:0pt">(Hamiltonian path) </span></span></span><span style="font-size:13.0pt"><span
                    style="font-family:한컴돋움">찾기 </span></span><span style="font-size:13.0pt"><span
                    style="font-family:한컴돋움"><span style="letter-spacing:-0.3pt">알고리듬의 응용입니다</span></span></span><span
                lang="EN-US" style="font-size:13.0pt"><span style="font-family:한컴돋움"><span style="letter-spacing:-0.3pt">.
                    </span></span></span><span style="font-size:13.0pt"><span style="font-family:한컴돋움"><span
                        style="letter-spacing:-0.3pt">꼭지점이 많으면 경로 찾기가 매우 어렵고 때로는 경로가 없을 수도 있습니다</span></span></span><span
                lang="EN-US" style="font-size:13.0pt"><span style="font-family:한컴돋움"><span style="letter-spacing:-0.3pt">.
                    </span></span></span><span style="font-size:13.0pt"><span style="font-family:한컴돋움"><span
                        style="letter-spacing:-1.1pt">이러한 문제를 </span></span></span><span lang="EN-US"
                style="font-size:13.0pt"><span style="font-family:한컴돋움"><span style="letter-spacing:-1.1pt">NP-complete
                    </span></span></span><span style="font-size:13.0pt"><span style="font-family:한컴돋움"><span
                        style="letter-spacing:-1.1pt">문제라고 합니다</span></span></span><span lang="EN-US"
                style="font-size:13.0pt"><span style="font-family:한컴돋움"><span
                        style="letter-spacing:-1.1pt">.</span></span></span></span><br>
        <span style="font-size:13.0pt"><span style="text-autospace:none">&nbsp;</span></span><br>
        <span style="color:#f90000"><span lang="EN-US" style="font-size:13.0pt"><span style="font-family:한컴돋움"><span
                        style="letter-spacing:0pt">[</span></span></span><span style="font-size:13.0pt"><span
                    style="font-family:한컴돋움">답하기</span></span><span lang="EN-US" style="font-size:13.0pt"><span
                    style="font-family:한컴돋움"><span style="letter-spacing:0pt">]</span></span></span></span><br>
        <span style="text-autospace:none"><span lang="EN-US" style="font-size:13.0pt"><span style="font-family:한컴돋움"><span
                        style="letter-spacing:0pt">(1) </span></span></span><span style="font-size:13.0pt"><span
                    style="font-family:한컴돋움">모든 연구실을 밀폐하기 위하여 지나가는 길을 밀폐경로라고 합니다</span></span><span lang="EN-US"
                style="font-size:13.0pt"><span style="font-family:한컴돋움"><span style="letter-spacing:0pt">.
                    </span></span></span></span><br>
        <span style="text-autospace:none"><span style="font-size:13.0pt"><span style="font-family:한컴돋움">밀폐경로는 몇 가지가
                    있습니까</span></span><span lang="EN-US" style="font-size:13.0pt"><span style="font-family:한컴돋움"><span
                        style="letter-spacing:0pt">? </span></span></span><span style="font-size:13.0pt"><span
                    style="font-family:한컴돋움">경로가 없으면 </span></span><span lang="EN-US" style="font-size:13.0pt"><span
                    style="font-family:한컴돋움"><span style="letter-spacing:0pt">0</span></span></span><span
                style="font-size:13.0pt"><span style="font-family:한컴돋움">을 적습니다</span></span><span lang="EN-US"
                style="font-size:13.0pt"><span style="font-family:한컴돋움"><span
                        style="letter-spacing:0pt">.</span></span></span></span><br>
        <span style="text-autospace:none"><span lang="EN-US" style="font-size:13.0pt"><span style="font-family:한컴돋움"><span
                        style="letter-spacing:0pt">(2) </span></span></span><span style="font-size:13.0pt"><span
                    style="font-family:한컴돋움"><span style="letter-spacing:-0.3pt">경로를 선으로 나타냅니다</span></span></span><span
                lang="EN-US" style="font-size:13.0pt"><span style="font-family:한컴돋움"><span style="letter-spacing:-0.3pt">.
                    </span></span></span><span style="font-size:13.0pt"><span style="font-family:한컴돋움"><span
                        style="letter-spacing:-0.3pt">여러 가지 경로가 있으면 각각 독립하여 그립니다</span></span></span><span lang="EN-US"
                style="font-size:13.0pt"><span style="font-family:한컴돋움"><span
                        style="letter-spacing:-0.3pt">.</span></span></span></span><br>
        <span lang="EN-US" style="font-size:13.0pt"><span style="font-family:한컴돋움"><span style="letter-spacing:0pt">(3)
                </span></span></span><span style="font-size:13.0pt"><span style="font-family:한컴돋움">경로를 찾은 방법을
                설명합니다</span></span><span lang="EN-US" style="font-size:13.0pt"><span style="font-family:한컴돋움"><span
                    style="letter-spacing:0pt">.</span></span></span>
        <table
            style="border-collapse:collapse; table-layout:fixed; border-top:none; border-left:none; border-bottom:none; border-right:none; border:solid #000000 0.28pt">
            <tbody>
                <tr>
                    <td style="border-bottom:solid #000000 0.28pt; width:476.15pt; height:28.97pt; padding:1.41pt 1.41pt 1.41pt 1.41pt; border-top:solid #000000 0.28pt; border-left:solid #000000 0.28pt; border-right:solid #000000 0.28pt"
                        valign="middle"><span style="text-autospace:none"><span lang="EN-US" style="font-size:12.0pt"><span
                                    style="font-family:한컴돋움"><span style="letter-spacing:0pt">(1) </span></span></span><span
                                style="font-size:12.0pt"><span style="font-family:한컴돋움">모든 연구실을 밀폐할 수 있는 경로의 가지 수는
                                </span></span><span lang="EN-US" style="font-size:12.0pt"><span style="font-family:한컴돋움"><span
                                        style="letter-spacing:0pt">( )</span></span></span><span style="font-size:12.0pt"><span
                                    style="font-family:한컴돋움">가지입니다</span></span><span lang="EN-US"
                                style="font-size:12.0pt"><span style="font-family:한컴돋움"><span
                                        style="letter-spacing:0pt">.</span></span></span></span></td>
                </tr>
                <tr>
                    <td style="border-bottom:solid #000000 0.28pt; width:476.15pt; height:149.99pt; padding:1.41pt 1.41pt 1.41pt 1.41pt; border-top:solid #000000 0.28pt; border-left:solid #000000 0.28pt; border-right:solid #000000 0.28pt"
                        valign="middle"><span style="text-autospace:none"><span lang="EN-US" style="font-size:12.0pt"><span
                                    style="font-family:한컴돋움"><span style="letter-spacing:-0.4pt">(2) </span></span></span><span
                                style="font-size:12.0pt"><span style="font-family:한컴돋움"><span style="letter-spacing:-0.4pt">경로를
                                        선으로 나타내면 다음과 같습니다</span></span></span><span lang="EN-US" style="font-size:12.0pt"><span
                                    style="font-family:한컴돋움"><span style="letter-spacing:-0.4pt">. </span></span></span><span
                                style="font-size:12.0pt"><span style="font-family:한컴돋움"><span style="letter-spacing:-1.3pt">경로가
                                        많으면 그림을 복사하여 사용합니다</span></span></span><span lang="EN-US" style="font-size:12.0pt"><span
                                    style="font-family:한컴돋움"><span
                                        style="letter-spacing:-1.3pt">.</span></span></span></span><br>
                        <span style="font-size:12.0pt"><span style="text-autospace:none"><img alt="그림입니다.
                원본 그림의 이름: CLP00000174000b.bmp
                원본 그림의 크기: 가로 715pixel, 세로 586pixel" src="./제10회 cpsFestival 예선 문제(안)_files/3.png"
                                    style="width:138ptpx; height:113ptpx"></span></span>
                    </td>
                </tr>
                <tr>
                    <td style="border-bottom:solid #000000 0.28pt; width:476.15pt; height:66.07pt; padding:1.41pt 1.41pt 1.41pt 1.41pt; border-top:solid #000000 0.28pt; border-left:solid #000000 0.28pt; border-right:solid #000000 0.28pt"
                        valign="top"><span style="text-autospace:none"><span lang="EN-US" style="font-size:12.0pt"><span
                                    style="font-family:한컴돋움"><span style="letter-spacing:0pt">(3) </span></span></span><span
                                style="font-size:12.0pt"><span style="font-family:한컴돋움">경로를 찾은 방법은 다음과 같습니다</span></span><span
                                lang="EN-US" style="font-size:12.0pt"><span style="font-family:한컴돋움"><span
                                        style="letter-spacing:0pt">.</span></span></span></span></td>
                </tr>
            </tbody>
        </table>
    </blockquote>
</details>

# 답하기

## (1) 모든 연구실을 밀폐하기 위하여 지나가는 길을 밀폐경로라고 합니다. 밀폐경로는 몇 가지가 있습니까? 경로가 없으면 0을 적습니다.

0.

경로가 없다.

## (2) 경로를 선으로 나타냅니다. 여러 가지 경로가 있으면 각각 독립하여 그립니다.

경로가 없습니다.

## (3) 경로를 찾은 방법을 설명합니다.

### 풀이에 사용한 방법

놓치는 경우의 수 하나 없이 모든 경우의 수를 찾아내기 위해,

간단한 Python 프로그램을 작성하였다.

### 사용한 알고리즘

사용한 알고리즘은 다음과 같다.

1. 초기 위치는 입구가 있는 방이다.

2. 현재의 방에서 갈 수 있는 가장 가까운 방(= 연결되어 있는 방) 중, 아직 방문하지 않은 방을 선택한다.

3. 갈 수 있는 방이 더 이상 없을 때 까지 2번 동작을 반복한다.

4. 마지막으로 위치했던 방이 출구가 있는 방인 경우, 지나온 경로를 출력한다.

### 결론

#### 밀폐경로

입구로 들어가 출구로 나오는 해밀턴 경로,
즉 밀폐경로는 존재하지 않는다.

#### 해밀턴 경로

그러나, 입구로 들어가고 반드시 출구로 나오지 않아도 되는,
단순 해밀턴 경로는 생각보다 꽤 존재한다.

좌상단으로 들어가는 경우, 총 52가지의 해밀턴 경로가 존재한다. [하단 코드 실행결과 참고]
#### 이 들의 관계

해밀턴 경로의 경우, 좌상단으로 들어가 어디서 경로가 끝나는지를 분석해 보면 특정한 성질이 있다.
끝나는 방의 (x좌표의 값) + (y좌표의 값)이 모두 홀수라는 것이다.

본 지문에서 밀폐경로를 찾을 수 없었던 이유는,
좌상단으로 들어가 경로가 종료되어야 할 출구의 (x좌표의 값) + (y좌표의 값)이 3 + 3 = 6으로,
짝수였기 때문이다.

왜이러한 결과가 나오는지는 후속적인 연구를 통해 알아보면 좋을 것 같다.

### 사용한 코드와 실행결과

<details>
<summary>코드 보기</summary>

```python
from __future__ import annotations

from collections import deque
from dataclasses import dataclass
from typing import Deque, Generator, List


@dataclass
class Point:
    x: int
    y: int


class Room(Point):
    laboratory: Laboratory

    def __init__(self, laboratory: laboratory, x: int, y: int) -> None:
        super().__init__(x, y)
        self.laboratory = laboratory

    def _get_room(self, x: int, y: int) -> Room | None:
        """이 방과 같은 실험실에 있는 `x`, `y`번 방을 반환합니다.

        만약, 해당 방이 방문 불가능한 방이라면, `None`을 반환합니다.
        """
        width = self.laboratory.width
        height = self.laboratory.height
        if (0 <= x < width) and (0 <= y < height):
            return self.laboratory.rooms[y][x]
        else:
            return None

    @property
    def left(self) -> Room:
        return self._get_room(self.x-1, self.y)

    @property
    def right(self) -> Room:
        return self._get_room(self.x+1, self.y)

    @property
    def up(self) -> Room:
        return self._get_room(self.x, self.y-1)

    @property
    def down(self) -> Room:
        return self._get_room(self.x, self.y+1)


class Laboratory:
    def __init__(self,
                 width: int,
                 height: int,
                 entrance_point: Point,
                 exit_point: Point) -> None:
        self.width = width
        self.height = height
        self._rooms = [[Room(self, x, y) for x in range(width)]
                       for y in range(height)]
        self._entrance_point = entrance_point
        self._exit_point = exit_point

    @property
    def size(self) -> int:
        return self.width * self.height

    @property
    def rooms(self) -> List[List[Room]]:
        return self._rooms

    @property
    def entrance(self) -> Room:
        return self.rooms[self._entrance_point.y][self._entrance_point.x]

    @property
    def exit(self) -> Room:
        return self.rooms[self._exit_point.y][self._exit_point.x]


@dataclass
class Path:
    path: List[Room]

    def __init__(self) -> None:
        self.path = []

    def visit(self, room: Room) -> Path:
        assert not self.is_visited(room)
        new_path = Path()
        new_path.path = self.path.copy()
        new_path.path.append(room)
        return new_path

    def is_visited(self, room: Room) -> bool:
        return room in self.path

    @property
    def current_room(self) -> Room | None:
        """현재 있는 방을 반환합니다."""
        if not self.path:
            return None
        else:
            return self.path[-1]

    @property
    def visitable_rooms(self) -> Generator[Room]:
        """현재 있는 방에서 다음으로 이동 할 수 있는 방들을 반환합니다."""
        assert self.path

        def _inner_generator():
            room = self.current_room
            for next_room in filter(lambda r: r is not None,
                                    (room.left, room.right, room.up, room.down)):
                if not self.is_visited(next_room):
                    yield next_room
        return _inner_generator()


    def print_map(self) -> None:
        width = self.current_room.laboratory.width
        height = self.current_room.laboratory.height
        table = [[None]*width for y in range(height)]
        for index, room in enumerate(self.path):
            table[room.y][room.x] = index+1
        for row in table:
            for col in row:
                if col is None:
                    col = -1
                print(f'[{col:2d}]', end='')
            print()


def solution():
    laboratory = Laboratory(width=4,
                            height=4,
                            entrance_point=Point(0, 0),
                            exit_point=Point(3, 3))
    # Breadth First Search 준비
    path = Path().visit(laboratory.entrance)
    queue: Deque[Path] = deque([path])
    depth = 0  # 현재 탐색중인 깊이 (이 프로그램에서는 방문한 방의 수를 의미함)
    # BFS를 응용하여 모든 방을 한 번씩 지나는 해밀턴 경로를 구함
    while queue and depth < laboratory.size:
        hamiltonian_paths: List[Path] = []  # 해밀턴 경로
        for w in range(len(queue)):
            path = queue.popleft()
            for next_room in path.visitable_rooms:
                queue.append(path.visit(next_room))
            hamiltonian_paths.append(path)
        depth += 1

    # 밀폐 경로; 해밀턴 경로 중, 출구에서 종료되는 경로만 남김
    closed_path = [*filter(lambda p: p.current_room is laboratory.exit,
                           hamiltonian_paths)]

    # 결과를 CLI에 출력
    print()
    print('해밀턴 경로')
    print()
    summary = {
        'x+y가 짝수인 경우': 0,
        'x+y가 홀수인 경우': 0
    }
    for index, path in enumerate(hamiltonian_paths):
        print(f'{index+1}번째 경우:')
        path.print_map()
        print()
        # 통계용 데이터 수집
        if (path.current_room.x + path.current_room.y) % 2 == 0:
            summary['x+y가 짝수인 경우'] += 1
        else:
            summary['x+y가 홀수인 경우'] += 1
    print('-'*64)
    print('해밀턴 경로의 수:', len(hamiltonian_paths))
    print()
    print('x+y가 짝수인 경우:', summary['x+y가 짝수인 경우'])
    print('x+y가 홀수인 경우:', summary['x+y가 홀수인 경우'])
    print()
    print('='*64)
    print()
    print('밀폐 경로')
    print()
    for index, path in enumerate(closed_path):
        print(f'{index+1}번째 경우:')
        path.print_map()
        print()
    print('-'*64)
    print('밀폐 경로의 수:', len(closed_path))


if __name__ == "__main__":
    solution()

```

</details>

<details>
<summary>실행 결과</summary>

```

해밀턴 경로

1번째 경우:
[ 1][ 2][ 3][ 4]
[ 8][ 7][ 6][ 5]
[ 9][10][11][12]
[16][15][14][13]

2번째 경우:
[ 1][ 2][ 3][ 4]
[ 8][ 7][ 6][ 5]
[ 9][16][15][14]
[10][11][12][13]

3번째 경우:
[ 1][ 2][ 3][ 4]
[ 8][ 7][ 6][ 5]
[ 9][12][13][14]
[10][11][16][15]

4번째 경우:
[ 1][ 2][ 3][ 4]
[ 8][ 7][ 6][ 5]
[ 9][12][13][16]
[10][11][14][15]

5번째 경우:
[ 1][ 2][ 3][ 4]
[16][ 7][ 6][ 5]
[15][ 8][ 9][10]
[14][13][12][11]

6번째 경우:
[ 1][ 2][ 3][ 4]
[10][ 9][ 6][ 5]
[11][ 8][ 7][16]
[12][13][14][15]

7번째 경우:
[ 1][ 2][ 3][ 4]
[16][15][ 6][ 5]
[13][14][ 7][ 8]
[12][11][10][ 9]

8번째 경우:
[ 1][ 2][ 3][ 4]
[14][15][ 6][ 5]
[13][16][ 7][ 8]
[12][11][10][ 9]

9번째 경우:
[ 1][ 2][ 3][ 4]
[14][13][ 6][ 5]
[15][12][ 7][ 8]
[16][11][10][ 9]

10번째 경우:
[ 1][ 2][ 3][ 4]
[16][15][14][ 5]
[11][12][13][ 6]
[10][ 9][ 8][ 7]

11번째 경우:
[ 1][ 2][ 3][ 4]
[12][13][14][ 5]
[11][16][15][ 6]
[10][ 9][ 8][ 7]

12번째 경우:
[ 1][ 2][ 3][ 4]
[12][13][16][ 5]
[11][14][15][ 6]
[10][ 9][ 8][ 7]

13번째 경우:
[ 1][ 2][ 3][ 4]
[14][13][12][ 5]
[15][10][11][ 6]
[16][ 9][ 8][ 7]

14번째 경우:
[ 1][ 2][ 3][ 4]
[14][15][16][ 5]
[13][10][ 9][ 6]
[12][11][ 8][ 7]

15번째 경우:
[ 1][ 2][ 3][ 4]
[12][11][10][ 5]
[13][14][ 9][ 6]
[16][15][ 8][ 7]

16번째 경우:
[ 1][ 2][ 3][ 4]
[12][11][10][ 5]
[13][16][ 9][ 6]
[14][15][ 8][ 7]

17번째 경우:
[ 1][ 2][ 3][ 4]
[16][11][10][ 5]
[15][12][ 9][ 6]
[14][13][ 8][ 7]

18번째 경우:
[ 1][ 2][ 3][16]
[ 6][ 5][ 4][15]
[ 7][10][11][14]
[ 8][ 9][12][13]

19번째 경우:
[ 1][ 2][ 3][16]
[ 8][ 7][ 4][15]
[ 9][ 6][ 5][14]
[10][11][12][13]

20번째 경우:
[ 1][ 2][ 9][10]
[ 4][ 3][ 8][11]
[ 5][ 6][ 7][12]
[16][15][14][13]

21번째 경우:
[ 1][ 2][13][12]
[ 4][ 3][14][11]
[ 5][16][15][10]
[ 6][ 7][ 8][ 9]

22번째 경우:
[ 1][ 2][11][12]
[ 4][ 3][10][13]
[ 5][ 8][ 9][14]
[ 6][ 7][16][15]

23번째 경우:
[ 1][ 2][15][16]
[ 4][ 3][14][13]
[ 5][ 8][ 9][12]
[ 6][ 7][10][11]

24번째 경우:
[ 1][ 2][15][14]
[ 4][ 3][16][13]
[ 5][ 8][ 9][12]
[ 6][ 7][10][11]

25번째 경우:
[ 1][ 2][ 5][ 6]
[16][ 3][ 4][ 7]
[15][12][11][ 8]
[14][13][10][ 9]

26번째 경우:
[ 1][ 2][ 7][ 8]
[16][ 3][ 6][ 9]
[15][ 4][ 5][10]
[14][13][12][11]

27번째 경우:
[ 1][16][15][14]
[ 2][ 3][ 4][13]
[ 7][ 6][ 5][12]
[ 8][ 9][10][11]

28번째 경우:
[ 1][ 4][ 5][ 6]
[ 2][ 3][ 8][ 7]
[11][10][ 9][16]
[12][13][14][15]

29번째 경우:
[ 1][ 4][ 5][ 6]
[ 2][ 3][ 8][ 7]
[15][16][ 9][10]
[14][13][12][11]

30번째 경우:
[ 1][ 4][ 5][ 6]
[ 2][ 3][ 8][ 7]
[15][14][ 9][10]
[16][13][12][11]

31번째 경우:
[ 1][ 4][ 5][ 6]
[ 2][ 3][16][ 7]
[13][14][15][ 8]
[12][11][10][ 9]

32번째 경우:
[ 1][ 4][ 5][16]
[ 2][ 3][ 6][15]
[ 9][ 8][ 7][14]
[10][11][12][13]

33번째 경우:
[ 1][16][15][14]
[ 2][ 3][12][13]
[ 5][ 4][11][10]
[ 6][ 7][ 8][ 9]

34번째 경우:
[ 1][ 8][ 9][10]
[ 2][ 7][ 6][11]
[ 3][ 4][ 5][12]
[16][15][14][13]

35번째 경우:
[ 1][ 6][ 7][ 8]
[ 2][ 5][10][ 9]
[ 3][ 4][11][12]
[16][15][14][13]

36번째 경우:
[ 1][16][15][14]
[ 2][11][12][13]
[ 3][10][ 9][ 8]
[ 4][ 5][ 6][ 7]

37번째 경우:
[ 1][12][13][14]
[ 2][11][16][15]
[ 3][10][ 9][ 8]
[ 4][ 5][ 6][ 7]

38번째 경우:
[ 1][12][13][16]
[ 2][11][14][15]
[ 3][10][ 9][ 8]
[ 4][ 5][ 6][ 7]

39번째 경우:
[ 1][14][13][12]
[ 2][15][10][11]
[ 3][16][ 9][ 8]
[ 4][ 5][ 6][ 7]

40번째 경우:
[ 1][14][15][16]
[ 2][13][10][ 9]
[ 3][12][11][ 8]
[ 4][ 5][ 6][ 7]

41번째 경우:
[ 1][12][11][10]
[ 2][13][14][ 9]
[ 3][16][15][ 8]
[ 4][ 5][ 6][ 7]

42번째 경우:
[ 1][12][11][10]
[ 2][13][16][ 9]
[ 3][14][15][ 8]
[ 4][ 5][ 6][ 7]

43번째 경우:
[ 1][16][11][10]
[ 2][15][12][ 9]
[ 3][14][13][ 8]
[ 4][ 5][ 6][ 7]

44번째 경우:
[ 1][10][11][12]
[ 2][ 9][ 8][13]
[ 3][ 6][ 7][14]
[ 4][ 5][16][15]

45번째 경우:
[ 1][14][15][16]
[ 2][13][12][11]
[ 3][ 6][ 7][10]
[ 4][ 5][ 8][ 9]

46번째 경우:
[ 1][14][13][12]
[ 2][15][16][11]
[ 3][ 6][ 7][10]
[ 4][ 5][ 8][ 9]

47번째 경우:
[ 1][16][13][12]
[ 2][15][14][11]
[ 3][ 6][ 7][10]
[ 4][ 5][ 8][ 9]

48번째 경우:
[ 1][16][15][14]
[ 2][ 7][ 8][13]
[ 3][ 6][ 9][12]
[ 4][ 5][10][11]

49번째 경우:
[ 1][ 8][ 9][10]
[ 2][ 7][12][11]
[ 3][ 6][13][14]
[ 4][ 5][16][15]

50번째 경우:
[ 1][ 8][ 9][10]
[ 2][ 7][12][11]
[ 3][ 6][13][16]
[ 4][ 5][14][15]

51번째 경우:
[ 1][ 8][ 9][10]
[ 2][ 7][16][11]
[ 3][ 6][15][12]
[ 4][ 5][14][13]

52번째 경우:
[ 1][ 8][ 9][16]
[ 2][ 7][10][15]
[ 3][ 6][11][14]
[ 4][ 5][12][13]

----------------------------------------------------------------
해밀턴 경로의 수: 52

x+y가 짝수인 경우: 0
x+y가 홀수인 경우: 52

================================================================

밀폐 경로

----------------------------------------------------------------
밀폐 경로의 수: 0
```

</details>
